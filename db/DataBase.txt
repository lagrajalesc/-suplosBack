CREATE DATABASE pruebaSuplos; 
USE pruebaSuplos; 

CREATE TABLE bienes_servicios(
codigo_segmento CHAR(2),
segmento VARCHAR(255),
codigo_familia VARCHAR(5),
nombre_familia VARCHAR(255),
codigo_clase VARCHAR(7),
nombre_clase VARCHAR(255),
codigo_producto VARCHAR(9) PRIMARY KEY,    
nombre_producto VARCHAR(255)    
);

CREATE TABLE statuses (
id INT AUTO_INCREMENT PRIMARY KEY,
status_name VARCHAR(20)
);

CREATE TABLE users (
id INT AUTO_INCREMENT PRIMARY KEY,
firstName VARCHAR(100),
LastName VARCHAR(100),
user_name VARCHAR(100) UNIQUE,
password_user VARCHAR(255),
status_id INT,
FOREIGN KEY (status_id) REFERENCES statuses(id)
); 


CREATE TABLE user_token(
id INT AUTO_INCREMENT PRIMARY KEY,
token VARCHAR(255),
date_create DATETIME,
user_id INT,
FOREIGN KEY (user_id) REFERENCES users(id)
);


CREATE TABLE currency(
id INT AUTO_INCREMENT PRIMARY KEY,
currency VARCHAR(10)
);

CREATE TABLE operation(
id INT AUTO_INCREMENT PRIMARY KEY,
operation_name VARCHAR(6)
);

CREATE TABLE EVENTS (
id INT AUTO_INCREMENT PRIMARY KEY,
event_description VARCHAR(255),
startDate DATETIME, 
endDate DATETIME,
budget DECIMAL(11,2),
operation_id INT,
FOREIGN KEY (operation_id) REFERENCES operation(id),
asset VARCHAR(9),
FOREIGN KEY (asset) REFERENCES bienes_servicios(codigo_producto),
currency_id INT,
FOREIGN KEY (currency_id) REFERENCES currency(id),
status_id INT,
FOREIGN KEY (status_id) REFERENCES statuses(id),
user_id INT,
FOREIGN KEY (user_id) REFERENCES users(id)
);



INSERT INTO statuses (status_name) VALUES ("Activo"),("Inactivo"),("Publicado"),("Evaluaci√≥n")
INSERT INTO currency (currency) VALUES ("COP"),("USD"),("EUR")
INSERT INTO operation (operation_name) VALUES ("Compra"),("Venta")

